# 任务计划

## 目标
1. 新增马丁策略（Martingale）✅
2. 扩展回测股票池至沪深300成分股 🔄

## 进度

### Phase 1: 获取沪深300成分股列表 ✅
- [x] 生成了48只核心股票列表
- [x] 保存到 data/hs300_stocks.csv

### Phase 2: 实现马丁策略 ✅
- [x] 在 strategy/martingale.py 实现马丁策略
- [x] 修复了 backtrader 兼容性问题
- [x] 8只股票回测完成

### Phase 3: 回测结果 ✅ 
- 发现并修复数据加载bug（AKShare异常数据过滤）
- 修复backtrader数据格式问题（datetime='date'参数）
- 修正后马丁策略回测:
  - 中国平安 +1778%
  - 比亚迪 +209%
  - 招商银行 +208%
  - 美的集团 +170%
  - 贵州茅台 +125%
  - 平均 +334.5%

### Phase 4: 批量回测沪深300 ✅
- 完成30只股票马丁策略回测
- 平均收益 +296.6%，正收益 93.3%
- Web界面已更新v3.0

## 问题
- ✅ 已修复
- AKShare速度较慢，但可接受

## 待办
- [x] 30只股票回测
- [x] 更新Web
- [x] 持久化任务(有task_plan.md)